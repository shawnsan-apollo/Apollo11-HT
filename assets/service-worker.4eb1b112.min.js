const n="v1_cache",a=["/"];self.addEventListener("install",t=>{t.waitUntil(caches.open(n).then(e=>e.addAll(a).then(()=>{self.skipWaiting()})).catch(e=>console.log("Failed to cache",e)))});self.addEventListener("activate",t=>{const e=[n];t.waitUntil(caches.keys().then(s=>Promise.all(s.map(c=>{if(e.indexOf(c)===-1)return caches.delete(c)}))).then(()=>{self.clients.claim()}))});self.addEventListener("fetch",t=>{t.respondWith(caches.match(t.request).then(e=>e||fetch(t.request)))});
